!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ostore_utils={})}(this,(function(e){"use strict";"function"==typeof SuppressedError&&SuppressedError;var t=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o,u,c=(o=n.map((function(e){var t;return(null===(t=e.toString().split(".")[1])||void 0===t?void 0:t.length)||0})),u=Math.max.apply(Math,o),Math.pow(10,u)),a=n.map((function(e){return Math.round(e*c)})),l=0;switch(e){case"+":l=a.reduce((function(e,t){return e+t}),l)/c;break;case"-":l=a.reduce((function(e,t){return e-t}))/c;break;case"*":l=a.reduce((function(e,t){return e*t}))/Math.pow(c,a.length);break;case"/":l=a.reduce((function(e,t){return e/t}))}return{result:l,next:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.apply(void 0,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,u=t.length;o<u;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([e,l],n,!1))}}},n=function(e,t){if(e){var r=e.parentNode;return r&&t?Array.from(r.classList).includes(t)?r:n(r,t):r}};e.compute=t,e.copy=function(e,t){if(e){var n=document.createElement("input");n.setAttribute("readonly","readonly"),n.setAttribute("value",e),document.body.appendChild(n),n.setSelectionRange(0,99999),n.select();try{document.execCommand("Copy")?(document.execCommand("Copy"),t&&t({status:!0})):t&&t({status:!1,message:"document.execCommand('Copy')不存在"})}catch(e){t&&t({status:!1,message:e.message})}document.body.removeChild(n)}},e.copyAsync=function(e){return new Promise((function(t,n){if(e){var r=document.createElement("input");r.setAttribute("readonly","readonly"),r.setAttribute("value",e),document.body.appendChild(r),r.setSelectionRange(0,99999),r.select();try{document.execCommand("Copy")?(document.execCommand("Copy"),t({status:!0})):n({status:!1,message:"document.execCommand('Copy')不存在"})}catch(e){n({status:!1,message:e.message})}document.body.removeChild(r)}}))},e.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),u=0;u<t.length;u++)o[u]=t.charCodeAt(u);return new Blob([r],{type:n})},e.debounce=function(e,t,n){void 0===n&&(n=!1);var r=null;return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var c=this,a=n&&null===r;null!==r&&clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(c,o)}),t),a&&e.apply(c,o)}},e.downloadFile=function(e,t){return fetch(e).then((function(e){return e.blob()})).then((function(e){var n=new Blob([e]),r=document.createElement("a");return r.href=URL.createObjectURL(n),r.download=t,r.click(),URL.revokeObjectURL(r.href),{status:!0}})).catch((function(e){return{status:!1,message:e.message}}))},e.exitFullScreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},e.format=function(){console.log("format")},e.formatDate=function(){console.log("format date")},e.getCookies=function(e){var t=document.cookie.split(";").reduce((function(e,t){return e[t.split("=")[0].trim()]=t.split("=")[1].trim(),e}),{});return e?t[e]:t},e.getDataType=function(e){var t=Object.prototype.toString.call(e).match(/\[object (.*?)\]/);return t&&t[1].toLowerCase()},e.getParentNode=n,e.getUrlParams=function(e){var t=new URL(window.location.href),n=Object.fromEntries(new URLSearchParams(t.search));return e?n[e]:n},e.hasNotNullValue=function(e){var t,n=!1;return null===(t=Object.values(e))||void 0===t||t.forEach((function(e){""!==e&&null!=e&&(n=!0)})),n},e.hasNullValue=function(e){var t,n=!1;return null===(t=Object.values(e))||void 0===t||t.forEach((function(e){""!==e&&null!==e||(n=!0)})),n},e.packUrlParams=function(e){void 0===e&&(e={});var t="";for(var n in e)t+="".concat(n,"=").concat(e[n],"&");return t.slice(0,-1)},e.requestFullscreen=function(e){var t=document.getElementById(e);t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()},e.setSearchParams=function(e){var t=new URL(window.location.href),n=new URLSearchParams(t.search);for(var r in e)n.set(r,e[r]);t.search=n.toString(),history.pushState({url:t.href,title:document.title},document.title,t.href)},e.throttle=function(e,t){var n,r,o;return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var a=this;n?(clearTimeout(r),r=setTimeout((function(){Date.now()-o>=t&&(e.apply(a,u),o=Date.now())}),Math.max(t-(Date.now()-o),0))):(e.apply(a,u),o=Date.now(),n=!0)}},e.uniqueByKey=function(e,t){var n={};return e.reduce((function(e,r){return r&&"object"==typeof r&&!n[r[t]]&&(n[r[t]]=!0,e.push(r)),e}),[])},Object.defineProperty(e,"__esModule",{value:!0})}));
